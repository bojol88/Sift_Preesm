/** 
 * @file Core3.c
 * @generated by CPrinter
 * @date Sun May 03 14:20:46 CEST 2015
 */

#include "../include/x86.h"

// Core Global Declaration
extern pthread_barrier_t iter_barrier;
extern int stopThreads;
extern char *const Init__octavesW__0;  // Init > octavesW size:= 24*char defined in Core0
extern sem_t sem_1_SSRE; 
extern int *const out1__octavesW__0;  // octavesW_out1 > BuildOB_octavesW size:= 6*int defined in Core0
extern int *const out2__octavesW__0;  // octavesW_out2 > BuildSS_octavesW size:= 6*int defined in Core0
extern int *const out3__octavesW__0;  // octavesW_out3 > DoG_octavesW size:= 6*int defined in Core0
extern int *const out4__octavesW__0;  // octavesW_out4 > Extreme_octavesW size:= 6*int defined in Core0
extern int *const out5__octavesW__0;  // octavesW_out5 > Orientation_octavesW size:= 6*int defined in Core0
extern int *const out6__octavesW__0;  // octavesW_out6 > Render_octavesW size:= 6*int defined in Core0
extern int *const octavesW_g__in__0;  // Init_octavesW_g > octavesW_in size:= 6*int defined in Core0
extern char *const octavesW__Render__0;  // octavesW > Render size:= 24*char defined in Core0
extern char *const octavesW__Orientation__0;  // octavesW > Orientation size:= 24*char defined in Core0
extern char *const octavesW__Extreme__0;  // octavesW > Extreme size:= 24*char defined in Core0
extern char *const octavesW__DoG__0;  // octavesW > DoG size:= 24*char defined in Core0
extern char *const octavesW__BuildSS__0;  // octavesW > BuildSS size:= 24*char defined in Core0
extern char *const octavesW__BuildOB__0;  // octavesW > BuildOB size:= 24*char defined in Core0

// Core Global Definitions
sem_t sem_7_SSRE;
sem_t sem_8_SSRE;
sem_t sem_9_SSRE;
sem_t sem_10_SSRE;
sem_t sem_11_SSRE;
sem_t sem_12_SSRE;

void *computationThread_Core3(void *arg){
	// Initialisation(s)
	sem_init(&sem_7_SSRE,0,0/*init_val*/); // octavesW > Render
	sem_init(&sem_8_SSRE,0,0/*init_val*/); // octavesW > Orientation
	sem_init(&sem_9_SSRE,0,0/*init_val*/); // octavesW > Extreme
	sem_init(&sem_10_SSRE,0,0/*init_val*/); // octavesW > DoG
	sem_init(&sem_11_SSRE,0,0/*init_val*/); // octavesW > BuildSS
	sem_init(&sem_12_SSRE,0,0/*init_val*/); // octavesW > BuildOB

	// Begin the execution loop 
	while(1){
		pthread_barrier_wait(&iter_barrier);
		if(stopThreads){
			pthread_exit(NULL);
		}
		receiveStart(); // Core1 > Core3: Init__octavesW__0 
		receiveEnd(&sem_1_SSRE/*ID*/); // Core1 > Core3: Init__octavesW__0 
		// Broadcast octavesW
		{
			memcpy(out1__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
			memcpy(out2__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
			memcpy(out3__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
			memcpy(out4__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
			memcpy(out5__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
			memcpy(out6__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
		}
		sendStart(&sem_7_SSRE/*ID*/); // Core3 > Core0: octavesW__Render__0 
		sendEnd(); // Core3 > Core0: octavesW__Render__0 
		sendStart(&sem_8_SSRE/*ID*/); // Core3 > Core0: octavesW__Orientation__0 
		sendEnd(); // Core3 > Core0: octavesW__Orientation__0 
		sendStart(&sem_9_SSRE/*ID*/); // Core3 > Core0: octavesW__Extreme__0 
		sendEnd(); // Core3 > Core0: octavesW__Extreme__0 
		sendStart(&sem_10_SSRE/*ID*/); // Core3 > Core0: octavesW__DoG__0 
		sendEnd(); // Core3 > Core0: octavesW__DoG__0 
		sendStart(&sem_11_SSRE/*ID*/); // Core3 > Core0: octavesW__BuildSS__0 
		sendEnd(); // Core3 > Core0: octavesW__BuildSS__0 
		sendStart(&sem_12_SSRE/*ID*/); // Core3 > Core0: octavesW__BuildOB__0 
		sendEnd(); // Core3 > Core0: octavesW__BuildOB__0 
	}
}
