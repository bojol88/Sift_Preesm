/** 
 * @file Core0.c
 * @generated by CPrinter
 * @date Thu Apr 23 17:21:37 CEST 2015
 */

#include "../include/x86.h"
#include "sift.h"

// Core Global Declaration
extern pthread_barrier_t iter_barrier;
extern int stopThreads;

// Core Global Definitions
char SharedMem[97352720]; //  size:= 97352720*char
char *const BuildOB__octaves__0 = (char*) (SharedMem+82146272);  // BuildOB > octaves size:= 608256*char
char *const Init__octavesW__0 = (char*) (SharedMem+69271160);  // Init > octavesW size:= 24*char
char *const sigmas__Orientation__0 = (char*) (SharedMem+29500440);  // sigmas > Orientation size:= 144*char
char *const sigmas__Render__0 = (char*) (SharedMem+44114700);  // sigmas > Render size:= 144*char
char *const octaves__BuildSS__0 = (char*) (SharedMem+69372704);  // octaves > BuildSS size:= 608256*char
char *const Orientation__Render__0 = (char*) (SharedMem+44102696);  // Orientation > Render size:= 12004*char
char *const dog__Test_DoG__0 = (char*) (SharedMem+44114844);  // dog > Test_DoG size:= 12165120*char
char *const octavesW__BuildSS__0 = (char*) (SharedMem+68662880);  // octavesW > BuildSS size:= 24*char
char *const scaleSpace__DoG__0 = (char*) (SharedMem+14902272);  // scaleSpace > DoG size:= 14598144*char
char *const octavesW__BuildOB__0 = (char*) (SharedMem+69980960);  // octavesW > BuildOB size:= 24*char
char *const octaves__Test_OB__0 = (char*) (SharedMem+68662904);  // octaves > Test_OB size:= 608256*char
char *const octavesW__Extreme__0 = (char*) (SharedMem+97352672);  // octavesW > Extreme size:= 24*char
char *const Init__octavesH__0 = (char*) (SharedMem+97352696);  // Init > octavesH size:= 24*char
char *const octavesH__BuildOB__0 = (char*) (SharedMem+68647932);  // octavesH > BuildOB size:= 24*char
char *const Extreme__Orientation__0 = (char*) (SharedMem+68650876);  // Extreme > Orientation size:= 12004*char
char *const octavesW__Orientation__0 = (char*) (SharedMem+68647884);  // octavesW > Orientation size:= 24*char
char *const ReadYUV__Img__0 = (char*) (SharedMem+56381340);  // ReadYUV > Img size:= 101376*char
char *const octavesH__Extreme__0 = (char*) (SharedMem+29500416);  // octavesH > Extreme size:= 24*char
char *const DoG__dog__0 = (char*) (SharedMem+69981152);  // DoG > dog size:= 12165120*char
char *const scaleSpace__Test_SS__0 = (char*) (SharedMem+0);  // scaleSpace > Test_SS size:= 14598144*char
char *const Render__WritePGM__0 = (char*) (SharedMem+14598144);  // Render > WritePGM size:= 304128*char
char *const scaleSpace__Orientation__0 = (char*) (SharedMem+29500608);  // scaleSpace > Orientation size:= 14598144*char
char *const Img__Render__0 = (char*) (SharedMem+56279964);  // Img > Render size:= 101376*char
char *const Img__BuildOB__0 = (char*) (SharedMem+69271184);  // Img > BuildOB size:= 101376*char
char *const dog__Extreme__0 = (char*) (SharedMem+56482716);  // dog > Extreme size:= 12165120*char
char *const octavesW__Render__0 = (char*) (SharedMem+68647860);  // octavesW > Render size:= 24*char
char *const octavesH__Render__0 = (char*) (SharedMem+29500584);  // octavesH > Render size:= 24*char
char *const octavesH__BuildSS__0 = (char*) (SharedMem+68647836);  // octavesH > BuildSS size:= 24*char
char *const octavesW__DoG__0 = (char*) (SharedMem+69981128);  // octavesW > DoG size:= 24*char
char *const sigmas__BuildSS__0 = (char*) (SharedMem+69372560);  // sigmas > BuildSS size:= 144*char
char *const octavesH__DoG__0 = (char*) (SharedMem+68647908);  // octavesH > DoG size:= 24*char
char *const Init__sigmas__0 = (char*) (SharedMem+69980984);  // Init > sigmas size:= 144*char
char *const BuildSS__scaleSpace__0 = (char*) (SharedMem+82754528);  // BuildSS > scaleSpace size:= 14598144*char
int *const out4__octavesW__0 = (int*) (SharedMem+97352672);  // octavesW_out4 > Extreme_octavesW size:= 6*int
float *const sigmas__in__0 = (float*) (SharedMem+69980984);  // Init_sigmas > sigmas_in size:= 36*float
float *const scaleSpace__in__0 = (float*) (SharedMem+82754528);  // BuildSS_scaleSpace > scaleSpace_in size:= 3649536*float
uchar *const g__g__0 = (uchar*) (SharedMem+14699520);  // Render_g > WritePGM_g size:= 101376*uchar
uchar *const out2__octaves__0 = (uchar*) (SharedMem+68662904);  // octaves_out2 > Test_OB_octaves size:= 608256*uchar
int *const out6__octavesW__0 = (int*) (SharedMem+68647860);  // octavesW_out6 > Render_octavesW size:= 6*int
uchar *const out1__octaves__0 = (uchar*) (SharedMem+69372704);  // octaves_out1 > BuildSS_octaves size:= 608256*uchar
int *const octavesW_g__in__0 = (int*) (SharedMem+69271160);  // Init_octavesW_g > octavesW_in size:= 6*int
float *const out2__sigmas__0 = (float*) (SharedMem+29500440);  // sigmas_out2 > Orientation_sigmas size:= 36*float
int *const out1__octavesW__0 = (int*) (SharedMem+69980960);  // octavesW_out1 > BuildOB_octavesW size:= 6*int
float *const out1__sigmas__0 = (float*) (SharedMem+69372560);  // sigmas_out1 > BuildSS_sigmas size:= 36*float
uchar *const b__b__0 = (uchar*) (SharedMem+14800896);  // Render_b > WritePGM_b size:= 101376*uchar
float *const dog__in__0 = (float*) (SharedMem+69981152);  // DoG_dog > dog_in size:= 3041280*float
int *const out5__octavesH__0 = (int*) (SharedMem+29500584);  // octavesH_out5 > Render_octavesH size:= 6*int
float *const out1__scaleSpace__0 = (float*) (SharedMem+14902272);  // scaleSpace_out1 > DoG_scaleSpace size:= 3649536*float
int *const out3__octavesW__0 = (int*) (SharedMem+69981128);  // octavesW_out3 > DoG_octavesW size:= 6*int
float *const out2__scaleSpace__0 = (float*) (SharedMem+29500608);  // scaleSpace_out2 > Orientation_scaleSpace size:= 3649536*float
uchar *const out1__img__0 = (uchar*) (SharedMem+69271184);  // Img_out1 > BuildOB_img size:= 101376*uchar
float *const out2__DoG__0 = (float*) (SharedMem+44114844);  // dog_out2 > Test_DoG_DoG size:= 3041280*float
int *const out2__octavesW__0 = (int*) (SharedMem+68662880);  // octavesW_out2 > BuildSS_octavesW size:= 6*int
float *const out3__sigmas__0 = (float*) (SharedMem+44114700);  // sigmas_out3 > Render_sigmas size:= 36*float
int *const out3__octavesH__0 = (int*) (SharedMem+68647908);  // octavesH_out3 > DoG_octavesH size:= 6*int
int *const out1__octavesH__0 = (int*) (SharedMem+68647932);  // octavesH_out1 > BuildOB_octavesH size:= 6*int
pointList *const keyPointListCP__keyPointList__0 = (pointList*) (SharedMem+44102696);  // Orientation_keyPointListCP > Render_keyPointList size:= 1*pointList
float *const out1__dog__0 = (float*) (SharedMem+56482716);  // dog_out1 > Extreme_dog size:= 3041280*float
int *const octavesH_g__in__0 = (int*) (SharedMem+97352696);  // Init_octavesH_g > octavesH_in size:= 6*int
int *const out4__octavesH__0 = (int*) (SharedMem+29500416);  // octavesH_out4 > Extreme_octavesH size:= 6*int
uchar *const y__in__0 = (uchar*) (SharedMem+56381340);  // ReadYUV_y > Img_in size:= 101376*uchar
uchar *const octaves__in__0 = (uchar*) (SharedMem+82146272);  // BuildOB_octaves > octaves_in size:= 608256*uchar
uchar *const r__r__0 = (uchar*) (SharedMem+14598144);  // Render_r > WritePGM_r size:= 101376*uchar
int *const out2__octavesH__0 = (int*) (SharedMem+68647836);  // octavesH_out2 > BuildSS_octavesH size:= 6*int
uchar *const out2__img__0 = (uchar*) (SharedMem+56279964);  // Img_out2 > Render_img size:= 101376*uchar
pointList *const keyPointList__keyPointList__0 = (pointList*) (SharedMem+68650876);  // Extreme_keyPointList > Orientation_keyPointList size:= 1*pointList
float *const out3__scaleSpace__0 = (float*) (SharedMem+0);  // scaleSpace_out3 > Test_SS_scaleSpace size:= 3649536*float
int *const out5__octavesW__0 = (int*) (SharedMem+68647884);  // octavesW_out5 > Orientation_octavesW size:= 6*int

void *computationThread_Core0(void *arg){
	// Initialisation(s)
	initReadYUV(352/*xsize*/,288/*ysize*/); // ReadYUV

	// Begin the execution loop 
	while(1){
		pthread_barrier_wait(&iter_barrier);
		if(stopThreads){
			pthread_exit(NULL);
		}
		InitSift(352/*xsize*/,288/*ysize*/,octavesW_g__in__0,octavesH_g__in__0,sigmas__in__0); // Init
		readYUV(352/*xsize*/,288/*ysize*/,y__in__0); // ReadYUV
		// Broadcast Img
		{
			memcpy(out1__img__0+0, y__in__0+0, 101376*sizeof(uchar));
			memcpy(out2__img__0+0, y__in__0+0, 101376*sizeof(uchar));
		}
		// Broadcast octavesH
		{
			memcpy(out1__octavesH__0+0, octavesH_g__in__0+0, 6*sizeof(int));
			memcpy(out2__octavesH__0+0, octavesH_g__in__0+0, 6*sizeof(int));
			memcpy(out3__octavesH__0+0, octavesH_g__in__0+0, 6*sizeof(int));
			memcpy(out4__octavesH__0+0, octavesH_g__in__0+0, 6*sizeof(int));
			memcpy(out5__octavesH__0+0, octavesH_g__in__0+0, 6*sizeof(int));
		}
		// Broadcast octavesW
		{
			memcpy(out1__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
			memcpy(out2__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
			memcpy(out3__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
			memcpy(out4__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
			memcpy(out5__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
			memcpy(out6__octavesW__0+0, octavesW_g__in__0+0, 6*sizeof(int));
		}
		// Broadcast sigmas
		{
			memcpy(out1__sigmas__0+0, sigmas__in__0+0, 36*sizeof(float));
			memcpy(out2__sigmas__0+0, sigmas__in__0+0, 36*sizeof(float));
			memcpy(out3__sigmas__0+0, sigmas__in__0+0, 36*sizeof(float));
		}
		buildOB(out1__img__0,octaves__in__0,out1__octavesW__0,out1__octavesH__0); // BuildOB
		// Broadcast octaves
		{
			memcpy(out1__octaves__0+0, octaves__in__0+0, 608256*sizeof(uchar));
			memcpy(out2__octaves__0+0, octaves__in__0+0, 608256*sizeof(uchar));
		}
		buildSS(out1__octaves__0,scaleSpace__in__0,out2__octavesW__0,out2__octavesH__0,out1__sigmas__0); // BuildSS
		Test_OB(out2__octaves__0); // Test_OB
		// Broadcast scaleSpace
		{
			memcpy(out1__scaleSpace__0+0, scaleSpace__in__0+0, 3649536*sizeof(float));
			memcpy(out2__scaleSpace__0+0, scaleSpace__in__0+0, 3649536*sizeof(float));
			memcpy(out3__scaleSpace__0+0, scaleSpace__in__0+0, 3649536*sizeof(float));
		}
		DoG(dog__in__0,out1__scaleSpace__0,out3__octavesW__0,out3__octavesH__0); // DoG
		Test_SS(out3__scaleSpace__0); // Test_SS
		// Broadcast dog
		{
			memcpy(out1__dog__0+0, dog__in__0+0, 3041280*sizeof(float));
			memcpy(out2__DoG__0+0, dog__in__0+0, 3041280*sizeof(float));
		}
		extreme(keyPointList__keyPointList__0,out1__dog__0,out4__octavesW__0,out4__octavesH__0); // Extreme
		Test_DoG(out2__DoG__0); // Test_DoG
		orientation(keyPointList__keyPointList__0,keyPointListCP__keyPointList__0,out2__scaleSpace__0,out2__sigmas__0,out5__octavesW__0); // Orientation
		render(out2__img__0,out6__octavesW__0,out5__octavesH__0,keyPointListCP__keyPointList__0,out3__sigmas__0,r__r__0,g__g__0,b__b__0); // Render
		write_ppm(r__r__0,g__g__0,b__b__0,352/*w*/,288/*h*/); // WritePGM
	}
}
