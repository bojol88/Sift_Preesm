/** 
 * @file Core0.c
 * @generated by CPrinter
 * @date Sat Mar 07 14:09:39 CET 2015
 */

#include "../include/x86.h"

// Core Global Declaration
extern pthread_barrier_t iter_barrier;
extern int stopThreads;

// Core Global Definitions
char SharedMem[405504]; //  size:= 405504*char
char *const Sift__Writeppm__0 = (char*) (SharedMem+101376);  // Sift > Writeppm size:= 304128*char
char *const Read_YUV__Sift__0 = (char*) (SharedMem+0);  // Read_YUV > Sift size:= 101376*char
uchar *const g__g__0 = (uchar*) (SharedMem+202752);  // Sift_g > Writeppm_g size:= 101376*uchar
uchar *const r__r__0 = (uchar*) (SharedMem+101376);  // Sift_r > Writeppm_r size:= 101376*uchar
uchar *const b__b__0 = (uchar*) (SharedMem+304128);  // Sift_b > Writeppm_b size:= 101376*uchar
uchar *const y__input__0 = (uchar*) (SharedMem+0);  // Read_YUV_y > Sift_input size:= 101376*uchar

void *computationThread_Core0(void *arg){
	// Initialisation(s)
	initReadYUV(352/*xsize*/,288/*ysize*/); // Read_YUV

	// Begin the execution loop 
	while(1){
		pthread_barrier_wait(&iter_barrier);
		if(stopThreads){
			pthread_exit(NULL);
		}
		readYUV(352/*xsize*/,288/*ysize*/,y__input__0); // Read_YUV
		AppelSift(y__input__0,352/*xsize*/,288/*ysize*/,r__r__0,g__g__0,b__b__0); // Sift
		write_ppm(r__r__0,g__g__0,b__b__0,352/*xsize*/,288/*ysize*/); // Writeppm
	}
}
