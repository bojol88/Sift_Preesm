/** 
 * @file Core0.c
 * @generated by CPrinter
 * @date Thu Mar 05 18:29:06 CET 2015
 */

#include "../include/x86.h"

// Core Global Declaration
extern pthread_barrier_t iter_barrier;
extern int stopThreads;

// Core Global Definitions
char SharedMem[253440]; //  size:= 253440*char
char *const Sift__display__0 = (char*) (SharedMem+0);  // Sift > display size:= 101376*char
char *const Read_YUV__Sift__0 = (char*) (SharedMem+101376);  // Read_YUV > Sift size:= 101376*char
char *const Read_YUV__display__0 = (char*) (SharedMem+202752);  // Read_YUV > display size:= 50688*char
uchar *const v__v__0 = (uchar*) (SharedMem+228096);  // Read_YUV_v > display_v size:= 25344*uchar
uchar *const output__y__0 = (uchar*) (SharedMem+0);  // Sift_output > display_y size:= 101376*uchar
uchar *const u__u__0 = (uchar*) (SharedMem+202752);  // Read_YUV_u > display_u size:= 25344*uchar
uchar *const y__input__0 = (uchar*) (SharedMem+101376);  // Read_YUV_y > Sift_input size:= 101376*uchar

void *computationThread_Core0(void *arg){
	// Initialisation(s)
	initReadYUV(352/*xsize*/,288/*ysize*/); // Read_YUV
	yuvDisplayInit(0/*id*/,352/*xsize*/,288/*ysize*/); // display

	// Begin the execution loop 
	while(1){
		pthread_barrier_wait(&iter_barrier);
		if(stopThreads){
			pthread_exit(NULL);
		}
		readYUV(352/*xsize*/,288/*ysize*/,y__input__0,u__u__0,v__v__0); // Read_YUV
		AppelSift(y__input__0,352/*xsize*/,288/*ysize*/,output__y__0); // Sift
		yuvDisplay(0/*id*/,output__y__0,u__u__0,v__v__0); // display
	}
}
