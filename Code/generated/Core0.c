/** 
 * @file Core0.c
 * @generated by CPrinter
 * @date Sun May 03 18:06:14 CEST 2015
 */

#include "../include/x86.h"

// Core Global Declaration
extern pthread_barrier_t iter_barrier;
extern int stopThreads;
extern sem_t sem_0_SSRE; 
extern sem_t sem_1_SSRE; 

// Core Global Definitions
sem_t sem_2_SSRE;
sem_t sem_3_SSRE;
sem_t sem_5_SSRE;
sem_t sem_6_SSRE;
sem_t sem_7_SSRE;
sem_t sem_8_SSRE;
sem_t sem_9_SSRE;
sem_t sem_10_SSRE;
sem_t sem_15_SSRE;
char SharedMem[58253416]; //  size:= 58253416*char
char *const FIFO_Head_Img_end_out2__Rend__0 = (char*) (SharedMem+43553872);  // FIFO_Head_Img_end_out2 > Render_init_img size:= 101376*char
char *const FIFO_Head_octavesW_end_out6___0 = (char*) (SharedMem+43147864);  // FIFO_Head_octavesW_end_out6 > Render_init_octavesW size:= 24*char
char *const FIFO_Head_sigmas_end_out3__R__0 = (char*) (SharedMem+43147720);  // FIFO_Head_sigmas_end_out3 > Render_init_sigmas size:= 144*char
char *const FIFO_Head_Render_end_b__Writ__0 = (char*) (SharedMem+12165120);  // FIFO_Head_Render_end_b > WritePGM_init_b size:= 101376*char
char *const FIFO_Head_Render_end_r__Writ__0 = (char*) (SharedMem+43046344);  // FIFO_Head_Render_end_r > WritePGM_init_r size:= 101376*char
char *const FIFO_Head_Init_end_octavesW___0 = (char*) (SharedMem+27878928);  // FIFO_Head_Init_end_octavesW_g > octavesW_init_in size:= 24*char
char *const Img_init_in__Img__0 = (char*) (SharedMem+43452496);  // Img_init_in > Img size:= 101376*char
char *const ReadYUV__ReadYUV_end_y__0 = (char*) (SharedMem+28130908);  // ReadYUV > ReadYUV_end_y size:= 101376*char
char *const sigmas__Orientation__0 = (char*) (SharedMem+28435108);  // sigmas > Orientation size:= 144*char
char *const WritePGM_init_r__WritePGM__0 = (char*) (SharedMem+12874752);  // WritePGM_init_r > WritePGM size:= 101376*char
char *const BuildSS__scaleSpace__0 = (char*) (SharedMem+43655248);  // BuildSS > scaleSpace size:= 14598144*char
char *const DoG__Extreme__0 = (char*) (SharedMem+0);  // DoG > Extreme size:= 12165120*char
char *const Init__Init_end_octavesH_g__0 = (char*) (SharedMem+28435036);  // Init > Init_end_octavesH_g size:= 24*char
char *const sigmas__BuildSS__0 = (char*) (SharedMem+28130716);  // sigmas > BuildSS size:= 144*char
char *const Render_init_octavesW__Render__0 = (char*) (SharedMem+28435060);  // Render_init_octavesW > Render size:= 24*char
char *const Init__Init_end_sigmas__0 = (char*) (SharedMem+27878712);  // Init > Init_end_sigmas size:= 144*char
char *const Render_init_keyPointList__Re__0 = (char*) (SharedMem+43034340);  // Render_init_keyPointList > Render size:= 12004*char
char *const octavesW__BuildOB__0 = (char*) (SharedMem+43452448);  // octavesW > BuildOB size:= 24*char
char *const scaleSpace__Orientation__0 = (char*) (SharedMem+28435252);  // scaleSpace > Orientation size:= 14598144*char
char *const Init__Init_end_octavesW_g__0 = (char*) (SharedMem+27878904);  // Init > Init_end_octavesW_g size:= 24*char
char *const octavesW__DoG__0 = (char*) (SharedMem+28130860);  // octavesW > DoG size:= 24*char
char *const Render_init_sigmas__Render__0 = (char*) (SharedMem+43249264);  // Render_init_sigmas > Render size:= 144*char
char *const octavesH__Extreme__0 = (char*) (SharedMem+28435084);  // octavesH > Extreme size:= 24*char
char *const Render__Render_end_b__0 = (char*) (SharedMem+28333660);  // Render > Render_end_b size:= 101376*char
char *const octavesW__BuildSS__0 = (char*) (SharedMem+43351000);  // octavesW > BuildSS size:= 24*char
char *const octavesH__DoG__0 = (char*) (SharedMem+27878952);  // octavesH > DoG size:= 24*char
char *const BuildOB__BuildSS__0 = (char*) (SharedMem+12266496);  // BuildOB > BuildSS size:= 608256*char
char *const octavesH__BuildOB__0 = (char*) (SharedMem+43350952);  // octavesH > BuildOB size:= 24*char
char *const Extreme__Orientation__0 = (char*) (SharedMem+27885292);  // Extreme > Orientation size:= 12004*char
char *const WritePGM_init_g__WritePGM__0 = (char*) (SharedMem+27777336);  // WritePGM_init_g > WritePGM size:= 101376*char
char *const octavesH__BuildSS__0 = (char*) (SharedMem+27878856);  // octavesH > BuildSS size:= 24*char
char *const Img__Img_end_out2__0 = (char*) (SharedMem+43147888);  // Img > Img_end_out2 size:= 101376*char
char *const WritePGM_init_b__WritePGM__0 = (char*) (SharedMem+27675816);  // WritePGM_init_b > WritePGM size:= 101376*char
char *const scaleSpace__DoG__0 = (char*) (SharedMem+13077504);  // scaleSpace > DoG size:= 14598144*char
char *const octavesH__octavesH_end_out5__0 = (char*) (SharedMem+43350976);  // octavesH > octavesH_end_out5 size:= 24*char
char *const sigmas_init_in__sigmas__0 = (char*) (SharedMem+27675648);  // sigmas_init_in > sigmas size:= 144*char
char *const Render__Render_end_r__0 = (char*) (SharedMem+27897296);  // Render > Render_end_r size:= 101376*char
char *const Render_init_img__Render__0 = (char*) (SharedMem+12976128);  // Render_init_img > Render size:= 101376*char
char *const octavesW__octavesW_end_out6__0 = (char*) (SharedMem+28130884);  // octavesW > octavesW_end_out6 size:= 24*char
char *const Render__Render_end_g__0 = (char*) (SharedMem+43249576);  // Render > Render_end_g size:= 101376*char
char *const Orientation__Orientation_end__0 = (char*) (SharedMem+28017336);  // Orientation > Orientation_end_keyPointListCP size:= 12004*char
char *const Img__BuildOB__0 = (char*) (SharedMem+28029340);  // Img > BuildOB size:= 101376*char
char *const octavesW_init_in__octavesW__0 = (char*) (SharedMem+43351024);  // octavesW_init_in > octavesW size:= 24*char
char *const octavesW__Extreme__0 = (char*) (SharedMem+58253392);  // octavesW > Extreme size:= 24*char
char *const sigmas__sigmas_end_out3__0 = (char*) (SharedMem+27777192);  // sigmas > sigmas_end_out3 size:= 144*char
char *const Render_init_octavesH__Render__0 = (char*) (SharedMem+43249408);  // Render_init_octavesH > Render size:= 24*char
char *const octavesW__Orientation__0 = (char*) (SharedMem+27878880);  // octavesW > Orientation size:= 24*char
char *const octavesH_init_in__octavesH__0 = (char*) (SharedMem+43452472);  // octavesH_init_in > octavesH size:= 24*char
uchar *const r__end_in__0 = (uchar*) (SharedMem+27897296);  // Render_r > Render_end_r_end_in size:= 101376*uchar
int *const out5__end_in__0 = (int*) (SharedMem+43350976);  // octavesH_out5 > octavesH_end_out5_end_in size:= 6*int
uchar *const y__end_in__0 = (uchar*) (SharedMem+28130908);  // ReadYUV_y > ReadYUV_end_y_end_in size:= 101376*uchar
uchar *const init_out__img__0 = (uchar*) (SharedMem+12976128);  // Render_init_img_init_out > Render_img size:= 101376*uchar
pointList *const init_out__keyPointList__0 = (pointList*) (SharedMem+43034340);  // Render_init_keyPointList_init_out > Render_keyPointList size:= 1*pointList
float *const out3__end_in__0 = (float*) (SharedMem+27777192);  // sigmas_out3 > sigmas_end_out3_end_in size:= 36*float
float *const out2__scaleSpace__0 = (float*) (SharedMem+28435252);  // scaleSpace_out2 > Orientation_scaleSpace size:= 3649536*float
int *const init_out__octavesW__0 = (int*) (SharedMem+28435060);  // Render_init_octavesW_init_out > Render_octavesW size:= 6*int
uchar *const b__end_in__0 = (uchar*) (SharedMem+28333660);  // Render_b > Render_end_b_end_in size:= 101376*uchar
int *const out2__octavesW__0 = (int*) (SharedMem+43351000);  // octavesW_out2 > BuildSS_octavesW size:= 6*int
float *const dog__dog__0 = (float*) (SharedMem+0);  // DoG_dog > Extreme_dog size:= 3041280*float
int *const out5__octavesW__0 = (int*) (SharedMem+27878880);  // octavesW_out5 > Orientation_octavesW size:= 6*int
float *const init_out__sigmas__0 = (float*) (SharedMem+43249264);  // Render_init_sigmas_init_out > Render_sigmas size:= 36*float
int *const out1__octavesW__0 = (int*) (SharedMem+43452448);  // octavesW_out1 > BuildOB_octavesW size:= 6*int
uchar *const octaves__octaves__0 = (uchar*) (SharedMem+12266496);  // BuildOB_octaves > BuildSS_octaves size:= 608256*uchar
int *const out6__end_in__0 = (int*) (SharedMem+28130884);  // octavesW_out6 > octavesW_end_out6_end_in size:= 6*int
uchar *const out2__end_in__0 = (uchar*) (SharedMem+43147888);  // Img_out2 > Img_end_out2_end_in size:= 101376*uchar
int *const out4__octavesW__0 = (int*) (SharedMem+58253392);  // octavesW_out4 > Extreme_octavesW size:= 6*int
int *const out3__octavesW__0 = (int*) (SharedMem+28130860);  // octavesW_out3 > DoG_octavesW size:= 6*int
float *const out1__scaleSpace__0 = (float*) (SharedMem+13077504);  // scaleSpace_out1 > DoG_scaleSpace size:= 3649536*float
int *const out1__octavesH__0 = (int*) (SharedMem+43350952);  // octavesH_out1 > BuildOB_octavesH size:= 6*int
int *const out2__octavesH__0 = (int*) (SharedMem+27878856);  // octavesH_out2 > BuildSS_octavesH size:= 6*int
pointList *const keyPointList__keyPointList__0 = (pointList*) (SharedMem+27885292);  // Extreme_keyPointList > Orientation_keyPointList size:= 1*pointList
int *const init_out__in__2 = (int*) (SharedMem+43351024);  // octavesW_init_in_init_out > octavesW_in size:= 6*int
uchar *const init_out__b__0 = (uchar*) (SharedMem+27675816);  // WritePGM_init_b_init_out > WritePGM_b size:= 101376*uchar
int *const out4__octavesH__0 = (int*) (SharedMem+28435084);  // octavesH_out4 > Extreme_octavesH size:= 6*int
uchar *const init_out__r__0 = (uchar*) (SharedMem+12874752);  // WritePGM_init_r_init_out > WritePGM_r size:= 101376*uchar
uchar *const out1__img__0 = (uchar*) (SharedMem+28029340);  // Img_out1 > BuildOB_img size:= 101376*uchar
int *const out3__octavesH__0 = (int*) (SharedMem+27878952);  // octavesH_out3 > DoG_octavesH size:= 6*int
int *const init_out__octavesH__0 = (int*) (SharedMem+43249408);  // Render_init_octavesH_init_out > Render_octavesH size:= 6*int
float *const init_out__in__3 = (float*) (SharedMem+27675648);  // sigmas_init_in_init_out > sigmas_in size:= 36*float
int *const init_out__in__1 = (int*) (SharedMem+43452472);  // octavesH_init_in_init_out > octavesH_in size:= 6*int
float *const scaleSpace__in__0 = (float*) (SharedMem+43655248);  // BuildSS_scaleSpace > scaleSpace_in size:= 3649536*float
uchar *const init_out__g__0 = (uchar*) (SharedMem+27777336);  // WritePGM_init_g_init_out > WritePGM_g size:= 101376*uchar
int *const octavesH_g__end_in__0 = (int*) (SharedMem+28435036);  // Init_octavesH_g > Init_end_octavesH_g_end_in size:= 6*int
float *const sigmas__end_in__0 = (float*) (SharedMem+27878712);  // Init_sigmas > Init_end_sigmas_end_in size:= 36*float
uchar *const init_out__in__0 = (uchar*) (SharedMem+43452496);  // Img_init_in_init_out > Img_in size:= 101376*uchar
int *const octavesW_g__end_in__0 = (int*) (SharedMem+27878904);  // Init_octavesW_g > Init_end_octavesW_g_end_in size:= 6*int
float *const out2__sigmas__0 = (float*) (SharedMem+28435108);  // sigmas_out2 > Orientation_sigmas size:= 36*float
uchar *const g__end_in__0 = (uchar*) (SharedMem+43249576);  // Render_g > Render_end_g_end_in size:= 101376*uchar
pointList *const keyPointListCP__end_in__0 = (pointList*) (SharedMem+28017336);  // Orientation_keyPointListCP > Orientation_end_keyPointListCP_end_in size:= 1*pointList
float *const out1__sigmas__0 = (float*) (SharedMem+28130716);  // sigmas_out1 > BuildSS_sigmas size:= 36*float

void *computationThread_Core0(void *arg){
	// Initialisation(s)
	fifoInit(FIFO_Head_Img_end_out2__Rend__0, 101376*sizeof(char), NULL, 0);
	fifoInit(FIFO_Head_octavesW_end_out6___0, 24*sizeof(char), NULL, 0);
	fifoInit(FIFO_Head_sigmas_end_out3__R__0, 144*sizeof(char), NULL, 0);
	fifoInit(FIFO_Head_Render_end_b__Writ__0, 101376*sizeof(char), NULL, 0);
	sem_init(&sem_2_SSRE,0,0/*init_val*/); // WritePGM_init_b > WritePGM
	fifoInit(FIFO_Head_Render_end_r__Writ__0, 101376*sizeof(char), NULL, 0);
	sem_init(&sem_3_SSRE,0,0/*init_val*/); // WritePGM_init_r > WritePGM
	fifoInit(FIFO_Head_Init_end_octavesW___0, 24*sizeof(char), NULL, 0);
	sem_init(&sem_5_SSRE,0,0/*init_val*/); // octavesW > octavesW_end_out6
	sem_init(&sem_6_SSRE,0,0/*init_val*/); // octavesW > Orientation
	sem_init(&sem_7_SSRE,0,0/*init_val*/); // octavesW > Extreme
	sem_init(&sem_8_SSRE,0,0/*init_val*/); // octavesW > DoG
	sem_init(&sem_9_SSRE,0,0/*init_val*/); // octavesW > BuildSS
	sem_init(&sem_10_SSRE,0,0/*init_val*/); // octavesW > BuildOB
	sem_init(&sem_15_SSRE,0,0/*init_val*/); // Render > Render_end_g

	// Begin the execution loop 
	while(1){
		pthread_barrier_wait(&iter_barrier);
		if(stopThreads){
			pthread_exit(NULL);
		}
		fifoPop(init_out__img__0, FIFO_Head_Img_end_out2__Rend__0, 101376*sizeof(char), NULL, 0);
		receiveStart(); // Core3 > Core0: Render_init_keyPointList__Re__0 
		receiveEnd(&sem_0_SSRE/*ID*/); // Core3 > Core0: Render_init_keyPointList__Re__0 
		receiveStart(); // Core3 > Core0: Render_init_octavesH__Render__0 
		receiveEnd(&sem_1_SSRE/*ID*/); // Core3 > Core0: Render_init_octavesH__Render__0 
		fifoPop(init_out__octavesW__0, FIFO_Head_octavesW_end_out6___0, 24*sizeof(char), NULL, 0);
		fifoPop(init_out__sigmas__0, FIFO_Head_sigmas_end_out3__R__0, 144*sizeof(char), NULL, 0);
		fifoPop(init_out__b__0, FIFO_Head_Render_end_b__Writ__0, 101376*sizeof(char), NULL, 0);
		sendStart(&sem_2_SSRE/*ID*/); // Core0 > Core1: WritePGM_init_b__WritePGM__0 
		sendEnd(); // Core0 > Core1: WritePGM_init_b__WritePGM__0 
		fifoPop(init_out__r__0, FIFO_Head_Render_end_r__Writ__0, 101376*sizeof(char), NULL, 0);
		sendStart(&sem_3_SSRE/*ID*/); // Core0 > Core1: WritePGM_init_r__WritePGM__0 
		sendEnd(); // Core0 > Core1: WritePGM_init_r__WritePGM__0 
		fifoPop(init_out__in__2, FIFO_Head_Init_end_octavesW___0, 24*sizeof(char), NULL, 0);
		// Broadcast octavesW
		{
			memcpy(out1__octavesW__0+0, init_out__in__2+0, 6*sizeof(int));
			memcpy(out2__octavesW__0+0, init_out__in__2+0, 6*sizeof(int));
			memcpy(out3__octavesW__0+0, init_out__in__2+0, 6*sizeof(int));
			memcpy(out4__octavesW__0+0, init_out__in__2+0, 6*sizeof(int));
			memcpy(out5__octavesW__0+0, init_out__in__2+0, 6*sizeof(int));
			memcpy(out6__end_in__0+0, init_out__in__2+0, 6*sizeof(int));
		}
		sendStart(&sem_5_SSRE/*ID*/); // Core0 > Core3: octavesW__octavesW_end_out6__0 
		sendEnd(); // Core0 > Core3: octavesW__octavesW_end_out6__0 
		sendStart(&sem_6_SSRE/*ID*/); // Core0 > Core2: octavesW__Orientation__0 
		sendEnd(); // Core0 > Core2: octavesW__Orientation__0 
		sendStart(&sem_7_SSRE/*ID*/); // Core0 > Core2: octavesW__Extreme__0 
		sendEnd(); // Core0 > Core2: octavesW__Extreme__0 
		sendStart(&sem_8_SSRE/*ID*/); // Core0 > Core2: octavesW__DoG__0 
		sendEnd(); // Core0 > Core2: octavesW__DoG__0 
		sendStart(&sem_9_SSRE/*ID*/); // Core0 > Core2: octavesW__BuildSS__0 
		sendEnd(); // Core0 > Core2: octavesW__BuildSS__0 
		sendStart(&sem_10_SSRE/*ID*/); // Core0 > Core2: octavesW__BuildOB__0 
		sendEnd(); // Core0 > Core2: octavesW__BuildOB__0 
		render(init_out__img__0,init_out__octavesW__0,init_out__octavesH__0,init_out__keyPointList__0,init_out__sigmas__0,r__end_in__0,g__end_in__0,b__end_in__0); // Render
		sendStart(&sem_15_SSRE/*ID*/); // Core0 > Core3: Render__Render_end_g__0 
		sendEnd(); // Core0 > Core3: Render__Render_end_g__0 
		fifoPush(b__end_in__0, FIFO_Head_Render_end_b__Writ__0, 101376*sizeof(char), NULL, 0);
		fifoPush(r__end_in__0, FIFO_Head_Render_end_r__Writ__0, 101376*sizeof(char), NULL, 0);
	}
}
